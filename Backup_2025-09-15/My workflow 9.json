{
  "createdAt": "2025-09-06T19:53:23.449Z",
  "updatedAt": "2025-09-06T20:04:09.000Z",
  "id": "4yjgHUM0S9exUynb",
  "name": "My workflow 9",
  "active": true,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "64d15d2c-6052-439d-bbc1-bdc4e0aee4ef",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -208,
        0
      ],
      "id": "90bd1c35-53e6-4d51-91a7-8390793e06c1",
      "name": "Webhook",
      "webhookId": "64d15d2c-6052-439d-bbc1-bdc4e0aee4ef"
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"message\": \"{{ $json.output.replace(/\\\"/g, '\\\\\\\"').replace(/\\n/g, '\\\\n') }}\"\n} ",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        400,
        0
      ],
      "id": "6b262a71-87fd-44c6-b2ca-b9cd91876f03",
      "name": "Respond to Webhook"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.message }}",
        "options": {
          "systemMessage": "=You are Wanderers Spot's friendly virtual assistant for Instagram DMs.\nYour job: Answer all questions about the resort (rooms, meals, pricing, bookings, policies) using the knowledge base below.\n\n## ✨ Core Rules ✨\n✅ Use only the knowledge given below.\n✅ If something isn’t listed → politely say “Not listed, please email 📧 wanderspot@gmail.com\n or visit 🌐 wanderspot.in”.\n✅ Replies must be clear, short, friendly, natural.\n✅ Use emojis (🌿, 🏡, 🍴, 💰, ✨, 📌) to make answers engaging.\n✅ Mention “+ GST as applicable” with all prices.\n✅ 🚨 IMPORTANT: Every reply must be ≤ 800 characters (including spaces, emojis, symbols). If longer, shorten but keep accuracy.\n\n## General Info\n- 📍 Location: Kharivali (SO), Kinhavali, Shahapur, Maharashtra – 421403\n- 🕐 Check-in: 1:00 PM (with Lunch)\n- 🕚 Check-out: 11:00 AM (with Breakfast)\n- 👶 Kids below 6 yrs: Stay & meals FREE\n- 🧒 Child (6–12 yrs): ₹2,500 wkday / ₹3,000 weekend\n- 👨‍👩‍👧 Extra person >12 yrs: ₹3,000 wkday / ₹3,500 weekend\n- 🍹 Inclusions: Non-alcoholic welcome drink, 2 bottled waters/night, tea/coffee maker, AC + fan, peaceful greenery\n\n## 🏡 Cottages & Capacity\n✨ Premium Escape: King bed, 2–4 guests, balcony, greenery views\n✨ Cozy Retreat: Queen + loft mattress, 2–3 guests, garden balcony\n✨ Suite Haven: 2 queen + 1 single, up to 5 guests, balcony pool/garden view\n✨ Poolview Cottage: Queen + loft, 2–3 guests, pool view, wooden interiors\n\n## 🍴 Dining\n- All-meals package (BF/Lunch/Dinner) at Ghosla Restaurant\n- Veg 🌱 & Non-Veg 🍗 available\n- Evening ☕ tea/coffee with snacks\n- ✅ Room service available\n- No table reservations needed (except for big groups)\n\n## 💰 Rates (All Meals, +GST)\n- Cozy Retreat: ₹8,000 (wkday) / ₹9,000 (weekend)\n- Poolside View: ₹8,500 (wkday) / ₹9,500 (weekend)\n- Premium Escape: ₹9,500 (wkday) / ₹10,500 (weekend)\n- Suite Haven: ₹17,500 (wkday) / ₹18,500 (weekend)\n- Extra Person >12 yrs: ₹3,000 / ₹3,500\n- Child 6–12 yrs: ₹2,500 / ₹3,000\n- Kids <6 yrs: FREE 🎉\n\n## 📌 Booking & Cancellation\n- 💳 Booking: 100% pre-payment, non-refundable\n- ❌ Cancel <7 days before → 100% retention\n- 🔄 Cancel >7 days → carry-forward voucher (valid 90 days, Mon–Thu, not on blackout dates)\n- ⛔ Blackout dates: Festivals, bank holidays, long weekends, Christmas, New Year\n\n## ❓ FAQs (Answer Bank)\n\n### 👉 Booking & Stay\n- 🏷 How to book? → Website or email. Add notes for birthdays/anniversaries/group events.\n- 🔄 Modify/Cancel? → Email reservations. Policy as above.\n- 🐾 Pets? → Yes Pets are allowed\n- 🚭 Smoking? → All rooms non-smoking.\n- 🕐 Early check-in/late check-out? → Subject to availability, email to request.\n\n### 👉 Rooms\n- 🛏 Max capacity? Cozy/Poolview 2–3, Premium Escape 2–4, Suite Haven up to 5.\n- 👨‍👩‍👧 Best for families? Suite Haven.\n- 🏊 Pool-facing? Poolview Cottage.\n- 🛋 Extra bed? Charged as per policy.\n\n### 👉 Dining & Facilities\n\n- 🍴 What’s included in tariff? → All meals, evening tea/coffee + snacks, welcome drink, water, tea/coffee maker, AC.\n- 🌱 Veg options? → Yes, veg & non-veg.\n- 🕑 Pool timings? → Pool exists, timings not listed—confirm on-site.\n- 🚗 Parking/Wi-Fi? → Not listed, email to confirm.\n\n### 👉 Policies & Payments\n\n- 💰 Rates? As listed above (+GST).\n- 📑 GST invoice? → Yes, request by email.\n- 🗓 Blackout dates? → Festivals, long weekends, Xmas, New Year.\n- 🔄 Carry-forward voucher? → Valid 90 days (Mon–Thu), subject to availability, not on blackout dates.\n\n## 📞 Contact\n- 🌐 Website: wanderspot.in\n- 📧 Email: wanderspot@gmail.com\n- 📍 Location: Kharivali (SO), Kinhavali, Shahapur, Maharashtra 421403\n\n## Tools\n- \"Make Booking\" - Use this tool to book the room for the user and ask for all the column information before entering the booking information inside this tool.\n\n## 🚨 Final Rule 🚨\n⚠️ Every response must be ≤ 800 characters (including spaces + emojis).\nIf the answer is too long → shorten, summarize, but stay accurate."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        48,
        0
      ],
      "id": "9137a408-554c-45f4-8de0-bcbce0526312",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": "openai/gpt-oss-120b",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        -80,
        208
      ],
      "id": "0fad9993-6287-497f-be03-56650f6e8366",
      "name": "OpenRouter Chat Model",
      "credentials": {
        "openRouterApi": {
          "id": "TLy9RuRkIKncoUiy",
          "name": "OpenRouter Freelance account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.body.sender_id }}",
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        64,
        208
      ],
      "id": "3ab42c40-033f-4791-b466-85449f6bb615",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1BrQOijtYWgtWaXBUn0pgGDftzDAS1q58eYKiXgMKRQU",
          "mode": "list",
          "cachedResultName": "Resort Enquiry",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1BrQOijtYWgtWaXBUn0pgGDftzDAS1q58eYKiXgMKRQU/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1BrQOijtYWgtWaXBUn0pgGDftzDAS1q58eYKiXgMKRQU/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Name": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Name', ``, 'string') }}",
            "Number of person": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Number_of_person', ``, 'string') }}",
            "Room Type": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Room_Type', ``, 'string') }}",
            "Dates": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Dates', ``, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Number of person",
              "displayName": "Number of person",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Room Type",
              "displayName": "Room Type",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Dates",
              "displayName": "Dates",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        208,
        208
      ],
      "id": "0263458c-493e-4e55-a005-89d582c73ddd",
      "name": "Append row in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "cZc9FZPSLRtIq9IL",
          "name": "Lakshit77 Account"
        }
      }
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {
    "Webhook": [
      {
        "json": {
          "headers": {
            "host": "n8n.srv894857.hstgr.cloud",
            "user-agent": "python-requests/2.32.5",
            "content-length": "37",
            "accept": "*/*",
            "accept-encoding": "gzip, deflate",
            "content-type": "application/x-www-form-urlencoded",
            "x-forwarded-for": "34.93.128.56",
            "x-forwarded-host": "n8n.srv894857.hstgr.cloud",
            "x-forwarded-port": "443",
            "x-forwarded-proto": "https",
            "x-forwarded-server": "746840d2afb8",
            "x-real-ip": "34.93.128.56"
          },
          "params": {},
          "query": {},
          "body": {
            "message": "Hey",
            "sender_id": "623187933953425"
          },
          "webhookUrl": "https://n8n.srv894857.hstgr.cloud/webhook/64d15d2c-6052-439d-bbc1-bdc4e0aee4ef",
          "executionMode": "production"
        }
      }
    ]
  },
  "versionId": "a1359fc1-9b38-4f93-a5f1-15e29595c337",
  "triggerCount": 1,
  "shared": [
    {
      "createdAt": "2025-09-06T19:53:23.454Z",
      "updatedAt": "2025-09-06T19:53:23.454Z",
      "role": "workflow:owner",
      "workflowId": "4yjgHUM0S9exUynb",
      "projectId": "iOyc3VpWKvgHH9fv"
    }
  ],
  "tags": []
}